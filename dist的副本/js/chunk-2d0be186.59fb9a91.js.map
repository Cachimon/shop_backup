{"version":3,"sources":["webpack:///./src/views/goods/Goods.vue?b568","webpack:///src/views/goods/Goods.vue","webpack:///./src/views/goods/Goods.vue?1768","webpack:///./src/views/goods/Goods.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","path","_v","on","queryChange","queryClose","model","value","queryInfo","callback","$$v","$set","expression","slot","addGoods","goodsList","scopedSlots","_u","key","fn","scope","_s","_f","row","add_time","$event","editGoods","removeGoodsById","goods_id","currentPage","pagesize","total","handleSizeChange","handleCurrentChange","showEditForm","ref","editInfo","editRules","confirmEdit","staticRenderFns","data","query","pagenum","timer","goods_name","goods_price","goods_weight","created","getGoodsList","methods","$http","get","setTimeout","$router","push","editUser","goods","$refs","editRef","validate","val","console","log","component"],"mappings":"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","file":"js/chunk-2d0be186.59fb9a91.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"goods\"},[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/home' }}},[_vm._v(\"首页\")]),_c('el-breadcrumb-item',[_vm._v(\"商品管理\")]),_c('el-breadcrumb-item',[_vm._v(\"商品列表\")])],1),_c('el-card',{staticClass:\"box-card\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":12}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入内容\",\"clearable\":\"\"},on:{\"input\":_vm.queryChange,\"clear\":_vm.queryClose},model:{value:(_vm.queryInfo.query),callback:function ($$v) {_vm.$set(_vm.queryInfo, \"query\", $$v)},expression:\"queryInfo.query\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"icon\":\"el-icon-search\"},slot:\"append\"})],1)],1),_c('el-col',{attrs:{\"span\":6}},[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addGoods}},[_vm._v(\"添加商品\")])],1)],1),_c('el-table',{staticClass:\"goods-list-table\",attrs:{\"data\":_vm.goodsList,\"border\":\"\",\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"type\":\"index\"}}),_c('el-table-column',{staticClass:\"goods-name\",attrs:{\"label\":\"商品名称\",\"width\":\"390\",\"prop\":\"goods_name\"}}),_c('el-table-column',{attrs:{\"label\":\"商品价格(元)\",\"prop\":\"goods_price\"}}),_c('el-table-column',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}}),_c('el-table-column',{attrs:{\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(_vm._f(\"timeFormat\")(scope.row.add_time))+\" \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"120px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"el-icon-edit\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.editGoods(scope.row)}}}),_c('el-button',{attrs:{\"type\":\"danger\",\"icon\":\"el-icon-delete\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.removeGoodsById(scope.row.goods_id)}}})]}}])})],1),_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.queryInfo.pagesize,\"page-sizes\":[5, 10, 20, 25],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"编辑商品\",\"visible\":_vm.showEditForm,\"width\":\"50%\"},on:{\"update:visible\":function($event){_vm.showEditForm=$event}}},[_c('el-form',{ref:\"editRef\",attrs:{\"model\":_vm.editInfo,\"rules\":_vm.editRules,\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"商品名称\",\"prop\":\"goods_name\"}},[_c('el-input',{model:{value:(_vm.editInfo.goods_name),callback:function ($$v) {_vm.$set(_vm.editInfo, \"goods_name\", $$v)},expression:\"editInfo.goods_name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品价格\",\"prop\":\"goods_price\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.editInfo.goods_price),callback:function ($$v) {_vm.$set(_vm.editInfo, \"goods_price\", $$v)},expression:\"editInfo.goods_price\"}})],1),_c('el-form-item',{attrs:{\"label\":\"商品重量\",\"prop\":\"goods_weight\"}},[_c('el-input',{attrs:{\"type\":\"number\"},model:{value:(_vm.editInfo.goods_weight),callback:function ($$v) {_vm.$set(_vm.editInfo, \"goods_weight\", $$v)},expression:\"editInfo.goods_weight\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.showEditForm = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.confirmEdit(_vm.editInfo)}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"goods\">\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/home' }\">首页</el-breadcrumb-item>\n      <el-breadcrumb-item>商品管理</el-breadcrumb-item>\n      <el-breadcrumb-item>商品列表</el-breadcrumb-item>\n    </el-breadcrumb>\n    <el-card class=\"box-card\">\n      <el-row>\n        <el-col :span=\"12\">\n          <el-input placeholder=\"请输入内容\" v-model=\"queryInfo.query\" class=\"input-with-select\" clearable @input=\"queryChange\" @clear=\"queryClose\">\n            <el-button slot=\"append\" icon=\"el-icon-search\"></el-button>\n          </el-input>\n        </el-col>\n        <el-col :span=\"6\">\n          <el-button type=\"primary\" @click=\"addGoods\">添加商品</el-button>\n        </el-col>\n      </el-row>\n      <el-table :data=\"goodsList\" border stripe class=\"goods-list-table\">\n        <el-table-column type=\"index\"></el-table-column>\n        <el-table-column label=\"商品名称\" width=\"390\" prop=\"goods_name\" class=\"goods-name\"></el-table-column>\n        <el-table-column label=\"商品价格(元)\" prop=\"goods_price\"></el-table-column>\n        <el-table-column label=\"商品重量\" prop=\"goods_weight\"></el-table-column>\n        <el-table-column label=\"创建时间\">\n          <template slot-scope=\"scope\">\n            {{scope.row.add_time | timeFormat}}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"120px\">\n          <template slot-scope=\"scope\">\n            <!-- 修改按钮 -->\n            <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" @click=\"editGoods(scope.row)\"></el-button>\n            <!-- 删除按钮 -->\n            <el-button\n              type=\"danger\"\n              icon=\"el-icon-delete\"\n              size=\"mini\"\n              @click=\"removeGoodsById(scope.row.goods_id)\"\n            ></el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n      <el-pagination\n        @size-change=\"handleSizeChange\"\n        @current-change=\"handleCurrentChange\"\n        :current-page=\"currentPage\"\n        :page-size=\"queryInfo.pagesize\"\n        :page-sizes=\"[5, 10, 20, 25]\"\n        layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\"\n      ></el-pagination>\n    </el-card>\n    <el-dialog title=\"编辑商品\" :visible.sync=\"showEditForm\" width=\"50%\">\n      <el-form :model=\"editInfo\" :rules=\"editRules\" label-width=\"80px\" ref=\"editRef\">\n        <!--是rules不是rule-->\n        <el-form-item label=\"商品名称\" prop=\"goods_name\">\n          <el-input v-model=\"editInfo.goods_name\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品价格\" prop=\"goods_price\">\n          <el-input v-model=\"editInfo.goods_price\" type=\"number\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"商品重量\" prop=\"goods_weight\">\n          <el-input v-model=\"editInfo.goods_weight\" type=\"number\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"showEditForm = false\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"confirmEdit(editInfo)\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      queryInfo: {\n        query: \"\",\n        pagenum: 1,\n        pagesize: 10\n      },\n      timer: null,\n      goodsList: [],\n      total: 0,\n      currentPage:1,\n      showEditForm: false,\n      editInfo: {\n        goods_name: '',\n        goods_price: 0,\n        goods_weight: 0\n      },\n      editRules: {\n        goods_name: [\n          { required: true, message: \"请输入商品名称\", trigger: \"blur\" },\n        ],\n        goods_price: [\n          { required: true, message: \"请输入商品价格\", trigger: \"blur\" },\n        ],\n        goods_weight: [\n          { required: true, message: \"请输入商品重量\", trigger: \"blur\" },\n        ],\n      }\n    };\n  },\n  created() {\n    this.getGoodsList()\n  },\n  methods: {\n    getGoodsList(){\n      this.$http.get('goods', {params: this.queryInfo}).then(res => {\n        if(res.data.meta.status !== 200)\n          return this.$message.error(\"获取商品列表失败\")\n        this.goodsList = res.data.data.goods\n        this.total = res.data.data.total\n      }).catch(err => err)\n    },\n    queryChange(e){\n      if(this.timer) clearTimeout(this.timer)\n      this.timer = setTimeout(() => {\n        this.queryInfo.query = e\n        this.getGoodsList()\n      }, 1000)\n    },\n    queryClose(){\n      this.queryInfo.query = ''\n      //this.getUserList()\n    },\n    addGoods() {\n      this.$router.push('/goods/add')\n    },\n    editUser(goods){\n      this.editInfo.goods_name = goods.goods_name\n      this.editInfo.goods_price = goods.goods_price\n      this.editInfo.goods_weight = goods.goods_weight\n      this.showEditForm = true\n    },\n    confirmEdit(editInfo){\n      this.$refs.editRef.validate(valid => {\n        if(!valid) return\n      })\n    },\n    handleSizeChange(val){\n      this.queryInfo.pagesize = val\n      this.getGoodsList()\n    },\n    handleCurrentChange(val){\n      this.queryInfo.pagenum = val\n      this.getGoodsList()\n    },\n    removeGoodsById(goodsId){\n       this.$confirm('此操作将永久删除该商品, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.$http.delete(`goods/${goodsId}`).then(res => {\n            if(res.data.meta.status !== 200)\n              return this.$message.error(\"删除商品失败\")\n            this.getGoodsList()\n            this.$message.success(\"删除商品成功\")\n          })\n        }).catch(() => {\n          this.$message({\n            type: 'info',\n            message: '已取消删除'\n          });          \n        });\n    },\n    editGoods(goods){\n      console.log(goods.goods_id)\n      this.$router.push(`/goods/edit/${goods.goods_id}`)\n    }\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Goods.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Goods.vue?vue&type=template&id=5c16e9d5&scoped=true&\"\nimport script from \"./Goods.vue?vue&type=script&lang=js&\"\nexport * from \"./Goods.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5c16e9d5\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}